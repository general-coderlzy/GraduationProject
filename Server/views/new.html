
<html>

<head>
    <title>添加用户</title>
    <link rel="stylesheet" href="../lib/elementui/theme-chalk/index.css" type="text/css">
     <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<style type="text/css">
	#app{
		width: 500px;
		margin:50px auto;
	}
</style>
<body>
<div id="app">
    <el-form ref="form" :model="form" label-width="80px" action="/users/new">

	  <el-form-item label="用户名称">
	  <el-input type="hidden" v-model="form.id"></el-input>
	  <el-input type="hidden" v-model="form.selectOption"></el-input>
	    <el-input type="text" re placeholder="请输入名称" v-model="form.name" maxlength="4" show-word-limit>
	    </el-input>
	  </el-form-item>
	  <el-form-item label="性别">
	    <template>
		  <el-radio v-model="form.sex" label="0">女</el-radio>
          <el-radio v-model="form.sex" label="1">男</el-radio>
		</template>
	  </el-form-item>
	  <el-form-item label="出生日期">
	    <el-col :span="11">
	      <el-date-picker type="date" placeholder="选择日期" v-model="form.date" style="width: 100%;"></el-date-picker>
	    </el-col>
	  </el-form-item>
	  <el-form-item label="是否富有">
	    <el-switch v-model="form.isRich"></el-switch>
	  </el-form-item>
	  <el-form-item label="用户住址">
	    <el-input type="text" v-model="form.address" maxlength="30" show-word-limit></el-input>
	  </el-form-item>
	  <el-form-item label="备注">
	    <el-input type="textarea" v-model="form.remark" maxlength="50" show-word-limit></el-input>
	  </el-form-item>
	  <el-form-item>
	    <el-button type="primary" @click="onSubmit(form)">立即创建</el-button>
	    <el-button  @click="turnIndex">取消</el-button>
	  </el-form-item>
	</el-form>
</div>
<!-- 引入组件库 -->
  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- import JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
<script type="text/javascript">
    new Vue({
        el: "#app",
        data: {           
            form: {
              id:'',
              date: '1990-01-01',
	          name: '辣鸡支垣',
	          address: '',	          
	          isRich: true,
	          remark: '',
	          selectOption: '1',
	          sex:'0'
        	}
        },
        methods: {
          onSubmit : function(form){          
          		axios.post('/users/new', form).then(response => {  
                window.location='/'
            }).catch(error => {
                console.log(error)
            })
         },
         turnIndex: function(){
         		window.location='/'
         }
         

     }


        
    });
</script>

</body>

</html>